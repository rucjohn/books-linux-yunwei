# 进程

进程是程序执行的一个实例，进程充分描述了程序执行到何种程度的数据结构的汇集。进程的目的是担当分配系统资源的实例。

一个进程由几个线程组成，每个线程都代表进程的一个执行流。Linux 使用轻量级进程 LWP 对多线程应用程序提供更好的支持。在 Linux 中，一个线程组基本上就是实现了多线程应用的一组轻量级进程，实现了轻量级进程与每个线程的关联。

子进程对内存单元的修改对父进程是不可见的，反之亦然。

进程描述符都是 task_struct 类型结构，它的字段包含了与一个进程相关的所有信息。

## 进程状态

状态 | TASK | 缩写 | 描述
--- | --- | --- | 
可运行状态 | TASK_RUNNING | R | 正在 CPU 中运行的，或者准备在运行的
可中断的等待状态（睡眠状态） | TASK_INTERRUPTIBLE | S | 进程被挂起（睡眠），如等待某件事件发生（等待连接、获取资源、信息量）
不可中断的等待状态 | TASK_UNINTERRUPTIBLE | D | 进程同样被挂起，但不能通过信号量来唤醒，只能等待某些特定事件发生。比如，进程需要连接外部设备，驱动程序开始探测设备时，将会出现此状态，探测完成前不可中断，否则设备会出现不可预知的情况
暂停状态 | TASK_STOPPED | T | 
跟踪状态 | TASK_TRACED | t |
僵死状态 | EXIT_ZOMBIE | Z | 子进程退出，但父进程未调用 `wait()` 或 `waitpid()` 系统调用返回有关退出进程的信息。
僵死撤消状态 | EXIT_DEAD |  | 进程真正死亡

## 进程上下文

执行在用户态的进程指令和数据在寄存器和堆栈的内容，称为进程上文；

执行在内核态的进程指令和数据在寄存器和堆栈的内容，称为进程下文；

进程上下文，一定是进程了系统调用或异常执行，导致 CPU 从用户空间切换到了内核空间。寄存器的任务状态段 TSS 用来存放进程上下文。

## 进程 ID

使用进程标识符 PID 来标记进程。默认，PID 的上限是 32767（PID_MAX_DEFAULT - 1）

